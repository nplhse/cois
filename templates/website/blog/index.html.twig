{% extends 'base.html.twig' %}

{% import '_elements/macro/breadcrumb.html.twig' as breadcrumbs %}

{% block title %}
    {{ 'title.blog'|trans }} - {{ parent() }}
{% endblock %}

{% block body %}
    <div class="container">
        <div class="row">
            <div class="col">
                {{
                    breadcrumbs.render(
                        [
                            {
                                url: url('app_dashboard'),
                                label: 'Home'|trans
                            },
                            {
                                label: 'title.blog'|trans
                            }
                        ]
                    )
                }}
            </div>
        </div>

        <div class="row">
            <div class="col-md-8">
                <h3 class="pb-4 mb-4 fst-italic border-bottom">
                    From the Firehose
                </h3>

                {% for post in posts %}
                    <article class="blog-post">
                        <h2 class="blog-post-title mb-1">
                            <a href="{{
                                path(
                                    'app_post',
                                    {
                                        id: post.id
                                    }
                                )
                                }}">
                                {{ post.title }}
                            </a>
                        </h2>
                        <p class="blog-post-meta">
                            Posted on {{ post.createdAt|date }}, by <a href="#">{{
                                    post.createdBy
                                }}</a>
                        </p>
                        <p>
                            {{ post.content|raw }}
                        </p>
                        <p>
                            Posted in {{ post.category }} | Tagged as{% for tag in post.tags %}
                                {{ tag.name }}{% if not loop.last %}, {% endif %}
                            {% endfor %}
                        </p>
                    </article>
                {% endfor %}
            </div>

            <div class="col-md-4">
                <div class="position-sticky" style="top: 2rem;">
                    <div class="p-4 mb-3 bg-light rounded">
                        <h4 class="fst-italic">
                            About
                        </h4>
                        <p class="mb-0">
                            Customize this section to tell your visitors a
                            little bit about your publication, writers, content,
                            or something else entirely. Totally up to you.
                        </p>
                    </div>

                    <div class="p-4">
                        <h4 class="fst-italic">
                            Archives
                        </h4>
                        <ol class="list-unstyled mb-0">
                            <li><a href="#">March 2021</a></li>
                            <li><a href="#">February 2021</a></li>
                            <li><a href="#">January 2021</a></li>
                            <li><a href="#">December 2020</a></li>
                            <li><a href="#">November 2020</a></li>
                            <li><a href="#">October 2020</a></li>
                            <li><a href="#">September 2020</a></li>
                            <li><a href="#">August 2020</a></li>
                            <li><a href="#">July 2020</a></li>
                            <li><a href="#">June 2020</a></li>
                            <li><a href="#">May 2020</a></li>
                            <li><a href="#">April 2020</a></li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
